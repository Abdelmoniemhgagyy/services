<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¯ÙƒØ§ØªØ±Ø©</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
<style>
* {margin:0;padding:0;box-sizing:border-box;}
body {font-family:"Cairo",sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px 15px;}
.container {max-width:900px;margin:0 auto;}
h1 {text-align:center;font-size:32px;font-weight:800;color:white;margin-bottom:10px;text-shadow:0 2px 10px rgba(0,0,0,0.2);}
.subtitle {text-align:center;font-size:16px;color:rgba(255,255,255,0.9);margin-bottom:25px;}
.search-box {position:relative;background:white;border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,0.2);overflow:hidden;margin-bottom:20px;}
.search-box::before {content:"ğŸ”";position:absolute;right:20px;top:50%;transform:translateY(-50%);font-size:20px;}
.search-box input {width:100%;padding:18px 55px 18px 20px;font-size:16px;border:none;outline:none;background:transparent;}
.doctor-card {background:white;padding:20px;margin-bottom:15px;border-radius:20px;box-shadow:0 8px 25px rgba(0,0,0,0.15);position:relative;transition:0.3s;}
.doctor-card::before {content:"";position:absolute;top:0;right:0;width:5px;height:100%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);}
.doctor-card:hover {transform:translateY(-5px);box-shadow:0 12px 35px rgba(0,0,0,0.2);}
.doctor-info-row {display:flex;justify-content:space-between;flex-wrap:wrap;gap:15px;}
.doctor-text-info {display:flex;flex-wrap:wrap;gap:15px;flex:1;flex-direction:row;align-items:center;}
.doctor-name {font-weight:700;color:#2d3748;display:inline-flex;align-items:center;gap:6px;}
.doctor-name::before {content:"ğŸ‘¨â€âš•ï¸";}
.specialty {font-weight:600;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.specialty::before {content:"ğŸ©º";margin-left:3px;-webkit-text-fill-color:initial;}
.address {display:inline-flex;align-items:center;gap:6px;color:#4a5568;}
.address::before {content:"ğŸ“";}
.phone-btn {display:inline-flex;align-items:center;gap:6px;background:linear-gradient(135deg,#10b981 0%,#059669 100%);color:white;padding:8px 16px;border-radius:10px;text-decoration:none;font-weight:600;box-shadow:0 4px 15px rgba(16,185,129,0.3);white-space:nowrap;transition:0.3s;}
.phone-btn:hover {transform:scale(1.05);}

#openFormBtn { position: fixed; top: 7px; left: 6px; width: 10px; height: 15px; border-radius: 50%; font-size: 24px; background: #613a9d; color: white; border: none; cursor: pointer; box-shadow: 0 4px 15px rgba(255,127,80,0.3); display: flex; align-items: center; justify-content: center; z-index: 1000; }
#passPopup {display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);justify-content:center;align-items:center;z-index:1000;}
#passPopup .popupContent {background:white;padding:20px 25px;border-radius:15px;width:300px;text-align:center;box-shadow:0 5px 20px rgba(0,0,0,0.3);position:relative;}
#passPopup .popupContent input {width:90%;padding:10px;margin-top:15px;border-radius:8px;border:1px solid #ccc;}
#passPopup .popupContent button {margin-top:15px;padding:10px 20px;border:none;background:#4caf50;color:white;border-radius:10px;cursor:pointer;}
#passPopup .popupContent button:hover {transform:scale(1.05);}
#passPopup .closeBtn {position:absolute;top:10px;left:10px;cursor:pointer;font-weight:bold;font-size:18px;}

#formPopup {display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);justify-content:center;align-items:center;z-index:999;}
#formPopup #formContent {background:white;padding:25px;border-radius:20px;max-width:450px;width:90%;box-shadow:0 5px 20px rgba(0,0,0,0.25);position:relative;}
#formPopup #formContent input {width:100%;padding:12px;margin-bottom:12px;border-radius:10px;border:1px solid #ccc;font-size:15px;}
#formPopup #formContent button {width:100%;padding:14px;font-size:16px;font-weight:700;border:none;border-radius:12px;background:#4caf50;color:white;cursor:pointer;}
#formPopup #formContent button:hover {transform:scale(1.05);}
#formPopup #closeForm {position:absolute;top:12px;left:12px;font-size:20px;cursor:pointer;font-weight:bold;}

@media (max-width:600px){
    .doctor-info-row{flex-direction:column;align-items:flex-start;gap:12px;}
    .doctor-text-info{flex-direction:column;align-items:flex-start;gap:6px;width:100%;}
    .phone-btn{width:100%;justify-content:center;padding:12px 0;border-radius:12px;}
}
</style>
</head>
<body>
<div class="container">
    <h1>ğŸ¥ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¯ÙƒØ§ØªØ±Ø©</h1>
    <p class="subtitle">Ø§Ø¨Ø­Ø« Ø¹Ù† Ø·Ø¨ÙŠØ¨Ùƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©</p>
    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ø¯ÙƒØªÙˆØ± Ø£Ùˆ Ø§Ù„ØªØ®ØµØµ...">
    </div>
    <div id="doctors" class="doctors-list"></div>
</div>

<button id="openFormBtn"></button>

<!-- Password Modal -->
<div id="passPopup">
    <div class="popupContent">
        <span class="closeBtn" id="closePass">âœ–</span>
        <h3>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</h3>
        <input type="password" id="passwordInput" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
        <button id="submitPass">ØªØ£ÙƒÙŠØ¯</button>
        <p id="passMsg" style="margin-top:10px;font-weight:bold;"></p>
    </div>
</div>

<!-- Form Popup -->
<div id="formPopup">
    <div id="formContent">
        <span id="closeForm">âœ–</span>
        <h2 style="text-align:center;margin-bottom:15px;">Ø¥Ø¶Ø§ÙØ© Ø¯ÙƒØªÙˆØ± Ø¬Ø¯ÙŠØ¯</h2>
        <input type="text" id="f_name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¯ÙƒØªÙˆØ±">
        <input type="text" id="f_specialty" placeholder="Ø§Ù„ØªØ®ØµØµ">
        <input type="text" id="f_address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
        <input type="text" id="f_phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
        <button onclick="addDoctor()">Ø¥Ø¶Ø§ÙØ©</button>
        <p id="formMsg" style="text-align:center;margin-top:10px;font-weight:bold;"></p>
    </div>
</div>

<script>
const sheetUrl = "https://script.google.com/macros/s/AKfycbxpe81iR2LzKA512bV-9EGACZGgmX2gbWtmMcNaDwVzFmoVfBubxjJ6fSYiyRbsqmKqMg/exec";
let doctorsData = [];

// Load doctors
fetch("https://opensheet.elk.sh/1fBiLGLvS9tGSOaC9lJLQJ8jJKvp3HK6kwPR8skZgi94/1")
.then(res=>res.json())
.then(data=>{doctorsData=data; displayDoctors(doctorsData);});

function displayDoctors(list){
    const container = document.getElementById("doctors");
    container.innerHTML="";
    if(list.length===0){ container.innerHTML="<p style='color:white;text-align:center;'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</p>"; return;}
    list.forEach(doc=>{
        const card = document.createElement("div");
        card.className="doctor-card";
        card.innerHTML=`
            <div class="doctor-info-row">
                <div class="doctor-text-info">
                    <span class="doctor-name">${doc.name}</span>
                    <span class="specialty">${doc.specialty}</span>
                    <span class="address">${doc.address}</span>
                </div>
                <a href="tel:${doc.phone}" class="phone-btn">ğŸ“ ${doc.phone}</a>
            </div>
        `;
        container.appendChild(card);
    });
}

// Search
document.getElementById("searchInput").addEventListener("input", function(){
    const keyword=this.value.toLowerCase().trim();
    const filtered=doctorsData.filter(doc=>
        doc.name.toLowerCase().includes(keyword) ||
        doc.specialty.toLowerCase().includes(keyword) ||
        doc.address.toLowerCase().includes(keyword)
    );
    displayDoctors(filtered);
});

// Password Modal
const passPopup = document.getElementById("passPopup");
const formPopup = document.getElementById("formPopup");
const openBtn = document.getElementById("openFormBtn");
const closePass = document.getElementById("closePass");
const submitPass = document.getElementById("submitPass");
const passMsg = document.getElementById("passMsg");

openBtn.onclick = ()=>{ passPopup.style.display="flex"; }
closePass.onclick = ()=>{ passPopup.style.display="none"; passMsg.innerText=""; document.getElementById("passwordInput").value=""; }
submitPass.onclick = ()=>{
    const inputPass = document.getElementById("passwordInput").value;
    if(inputPass==="1234"){ // ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
        passPopup.style.display="none";
        formPopup.style.display="flex";
        document.getElementById("passwordInput").value="";
        passMsg.innerText="";
    } else {
        passMsg.innerText="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø§Ø·Ø¦Ø©!";
        passMsg.style.color="red";
    }
}

// Form popup
document.getElementById("closeForm").onclick = ()=>{ formPopup.style.display="none"; document.getElementById("formMsg").innerHTML=""; }

// Add doctor
function addDoctor(){
    const data={
        name: document.getElementById("f_name").value,
        specialty: document.getElementById("f_specialty").value,
        address: document.getElementById("f_address").value,
        phone: document.getElementById("f_phone").value
    };
    fetch(sheetUrl,{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body: JSON.stringify(data)
    })
    .then(res=>res.text())
    .then(resp=>{
        document.getElementById("formMsg").innerHTML="âœ” ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­";
        document.getElementById("f_name").value="";
        document.getElementById("f_specialty").value="";
        document.getElementById("f_address").value="";
        document.getElementById("f_phone").value="";
        setTimeout(()=>{ formPopup.style.display="none"; location.reload(); },1000);
    })
    .catch(err=>{document.getElementById("formMsg").innerHTML="âŒ Ø­Ø¯Ø« Ø®Ø·Ø£"; console.error(err);});
}
</script>
</body>
</html>
